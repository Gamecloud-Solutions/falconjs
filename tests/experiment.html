<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Falcon.JS | Experimentation</title>

  <script type="text/javascript" src="lib/knockout-3.3.0-alpha.min.js"></script>

  <!-- include source files here... -->
  <script type="text/javascript" src="scripts/falcon.js"></script>

  <script>
    var LayoutView = Falcon.View.extend({
      endpoint: '#layout',

      defaults: {
        'array': [
          "1", "2", "3"
        ]
      },

      initialize: function() {
        console.log("New Layout");
      }
    });

    var SnackComponent = Falcon.View.extend({
      endpoint: '#snack-component',

      defaults: {
        'collection': function(params) {
          if(!params) params = {};
          return ko.unwrap(params.collection);
        }
      }
    })

    Falcon.addComponent('snack-component', SnackComponent);

    Falcon.apply(new LayoutView, "#application");
  </script>

</head>
  <body>
    App:
    <div id="application"></div>
  </body>
  <template id="snack-component">
    <!-- ko foreach: $component.collection -->
      <!-- ko yield: true --><!-- /ko -->
    <!-- /ko -->
  </template>
  <template id="layout">
    <snack-component params="collection: $view.array">
      <div>Hello Snack <!-- ko text: $data --><!-- /ko --></div>
    </snack-component>
  </template>
</html>
