(function(){var a,b,c,d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i=function(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)},f=function(a){return null!=a&&"[object Function]"===Object.prototype.toString.call(a)},b=function(a){return null!=a&&"[object Boolean]"===Object.prototype.toString.call(a)},a=function(a){return null!=a&&"[object Array]"===Object.prototype.toString.call(a)},j=function(a){return null!=a&&"[object String]"===Object.prototype.toString.call(a)},h=function(a){return null!=a&&"[object Number]"===Object.prototype.toString.call(a)},g=function(a){return h(a)&&a!==a},e=function(b){var c,d;if(null==b)return!0;if(j(b))return 0===trim(b).length;if(a(b))return 0===b.length;if(i(b)){for(c in b)return d=b[c],!1;return!0}return!1},d=function(a){return c(a)?0===trim(a.innerHTML).length:!0},c="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return null!=a&&1===a.nodeType&&"string"==typeof a.nodeName},this.jQueryAdapter=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}return m(b,a),b.prototype.cache=!1,b.prototype.standardizeOptions=function(a,c,d,e){var f,g;return f=b.__super__.standardizeOptions.call(this,a,c,d,e),j(f.dataType)||(f.dataType="json"),j(f.contentType)||(f.contentType="application/json"),i(f.params)||(f.params={}),i(f.headers)||(f.headers={}),f.cache=null!=(g=f.cache)?g:this.cache,f},b.prototype.makeUrl=function(a,c,d,f){var g,h,i;return h=b.__super__.makeUrl.call(this,a,c,d,f),e(d.params)||(h+=h.indexOf("?")>-1?"&":"?",h+=function(){var a,b;a=d.params,b=[];for(g in a)i=a[g],b.push(""+g+"="+i);return b}().join("&")),h},b.prototype.serializeData=function(a,c,d,e){var f;return f=b.__super__.serializeData.call(this,a,c,d,e),null==f?"":j(f)?f:JSON.stringify(f)},b.prototype.parseRawResponseData=function(a,c,d,e,f){var g,h,i,k;k=b.__super__.parseRawResponseData.call(this,a,c,d,e,f),g=k.data,i=k.xhr;try{j(g)&&(g=JSON.parse(g)),j(null!=i?i.responseText:void 0)&&null==g&&(g=JSON.parse(i.responseText))}catch(l){h=l,g=null}return null==g&&(g=Falcon.isModel(a)?{}:[]),g},b.prototype.sync=function(a,c,d,e){var f,g=this;return f=b.__super__.sync.call(this,a,c,d,e),f.is_valid?(a=f.data_object,c=f.type,e=f.context,d=f.options,$.ajax({type:c,url:d.url,data:d.data,dataType:d.dataType,contentType:d.contentType,cache:d.cache,headers:d.headers,success:function(b,f,h){return g.successResponseHandler(a,c,d,e,{data:b,status:f,xhr:h})},error:function(b){return g.errorResponseHandler(a,c,d,e,{xhr:b})},complete:function(b,f){return g.completeResponseHandler(a,c,d,e,{status:f,xhr:b})}})):null},b.prototype.getTemplate=function(a,c){if(!j(a))throw new Error("uri must be a String");if(!f(c))throw new Error("callback must be a Function");return"#"===a.charAt(0)?b.__super__.getTemplate.call(this,a,c):($.ajax({url:a,type:"GET",cache:this.cache,error:function(){return c("")},success:function(a){return c(a)}}),this)},b}(Falcon.Adapter),Falcon.adapter=new jQueryAdapter}).call(this);