(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};i=function(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)},f=function(a){return null!=a&&"[object Function]"===Object.prototype.toString.call(a)},c=function(a){return null!=a&&"[object Boolean]"===Object.prototype.toString.call(a)},b=function(a){return null!=a&&"[object Array]"===Object.prototype.toString.call(a)},j=function(a){return null!=a&&"[object String]"===Object.prototype.toString.call(a)},h=function(a){return null!=a&&"[object Number]"===Object.prototype.toString.call(a)},g=function(a){return h(a)&&a!==a},e=function(a){var c,d;if(null==a)return!0;if(j(a))return 0===l(a).length;if(b(a))return 0===a.length;if(i(a)){for(c in a)return d=a[c],!1;return!0}return!1},d="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return null!=a&&1===a.nodeType&&"string"==typeof a.nodeName},l=String.prototype.trim?function(a){return String.prototype.trim.call(a)}:function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},m=function(a){return a.replace(/^[\\/\s]+/,"").replace(/[\\/\s]+$/,"")},k=function(a,b){return 0===a.indexOf(b)},a=function(a,b){return a.lastIndexOf(b)===a.length-1},Falcon.addConductor=function(){var a,b,c,d,g,h,k,m;return a=["data-bind"],d={},b=0,c={},k=ko.bindingProvider.instance.preprocessNode,g=function(a,d){var f,g,i,j;return f=null,i=b++,c[i]=function(b){var c,e,f;return e=null,c=null!=(f=ko.bindingProvider.instance.getBindingAccessors(a,b))?f:{},c.view=function(){var c;return null!=e?e:(c=h(a,b),e=d(a,c,b))},null!=(null!=c?c.conductor:void 0)&&delete c.conductor,ko.applyBindingAccessorsToNode(a,c,b)},ko.utils.domNodeDisposal.addDisposeCallback(a,function(){return delete c[i]}),g=l(null!=(j=a.getAttribute("data-bind"))?j:""),g=e(g)?"conductor: "+i:"conductor: "+i+", "+g,a.setAttribute("data-bind",g)},m=function(a){return j(a)?(a=l(a),0===a.indexOf("$view")?!0:0===a.indexOf("$data")?!0:0===a.indexOf("$root")?!0:0===a.indexOf("$parent")?!0:!1):!1},h=function(b,c){var d,e,f,g,h,i,j,k,l;for(e={},k=b.attributes,i=0,j=k.length;j>i;i++)d=k[i],l=d.name.toLowerCase(),n.call(a,l)>=0||(g=d.name,h=d.value,m(h)&&(f="with($context){with($data||{}){return "+h+";}}",h=new Function("$context","$element",f)(c,b)),e[g]=h);return e},ko.bindingProvider.instance.preprocessNode=function(a){var b,c,e,h,i,j;return b=[],1===(null!=a?a.nodeType:void 0)&&(h=l(null!=(i=a.tagName)?i:"").toLowerCase(),c=d[h],null!=c&&(Falcon.isView(c.prototype)?g(a,function(a,b){return new c(b)}):f(c)&&g(a,function(a,b,d){var e;return e=d.$data,c(a,b,e,d)}))),e=null!=(j=null!=k?k.call(this,a):void 0)?j:[],e.length>0?e:null},Falcon.addBinding("conductor",{init:function(a,b,d,e,f){var g;return g=b(),"function"==typeof c[g]&&c[g](f),{controlsDescendantBindings:!0}}}),function(a,b){return a=l(a).toLowerCase(),document.createElement(a),i(b)&&!Falcon.isFalconObject(b)&&(b=Falcon.View.extend(b)),d[a]=b,Falcon}}()}).call(this);