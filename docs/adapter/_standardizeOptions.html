{% assign methodName = "standardizeOptions" %}
{% assign methodExample = "adapter.standardizeOptions( data_object, type, options, context )" %}
{% assign returnType = "mixed" %}
{% assign returnDescription = "An new object of the standardized options" %}
{% include methodOverview.html %}
<p>
	Used to standardize the input options and ensure that the resultant options object has all of the correct options for our sync request.  This method will do a shallow clone on the input options so that we do not disturb the original object.
</p>
<p>
	This method will return an object that, at it's base, will always have:
	<ul>
		<li><strong>url</strong> - The url to send this request to.  This is assigned using the adapter's makeUrl method which should acknowledge a previously defined url in the options and pass that through if it exists otherwise use the data_object's makeUrl method.</li>
		<li><strong>data</strong> - The data to send to the data source. This is created from the response of the adapter.serializeData method which should pass through any pre-existing 'data' property on the input options. If no 'data' is present, the serializeData method will return the data_objects serialize(attributes) response.</li>
		<li><strong>success</strong> - The success callback to trigger from within the adapter.successResponseHandler. This will be called on the context and with arguments: data_object, raw_response_data, standardized options, and other adapter-specific arguments.</li>
		<li><strong>error</strong> - The error callback to trigger from within the adapter.errorResponseHandler. This will be called on the context and with arguments: data_object, raw_response_data, standardized options, and other adapter-specific arguments.</li>
		<li><strong>complete</strong> - The error callback to trigger from within the adapter.completeResponseHandler. This will be called on the context and with arguments: data_object, raw_response_data, standardized options, and other adapter-specific arguments.</li>
		<li><strong>parent</strong> - The parent data object to utilize in the makeUrl method.  This may be 'null' if we're looking to not utilize a parent at all</li>
		<li><strong>attributes</strong> - The attributes to pass into the data_object's serialize method (reduces which properties are serialized in the resultant JSON)</li>
		<li><strong>fill_options</strong> - An object of optional options to pass along to the 'fill' method on successful responses</li>
	</ul>
</p>
<div class="alert alert-info">
	This method is a pre-request method that should always be called with the same four arguments: data_object, type, options, and context.
</div>
<div class="alert alert-warning">
	This method should always be called with the resolved request type (from resolveRequestType).
</div>
<dl>
	<dt data-type="Falcon.Model">data_object</dt>
	<dd>The data object being prepaired. Should be either a Falcon.Model or a Falcon.Collection</dd>
	<dt data-type="String">type</dt>
	<dd>The resolved request type</dd>
	<dt data-type="Object">options</dt>
	<dd>The non-standardized options. This may be an object who's values will be carrier over to the output options, a callback function that will be assigned to the 'complete' property, a string that will be split on ',' and the resultant array assigned to the attributes property, or an array which will be assigned to the 'attribute' property.</dd>
	<dt data-type="mixed">context</dt>
	<dd>The unresolved request context, will be the context for all of the response handlers</dd>
</dl>
{% highlight javascript linenos %}
var parent_model = new Falcon.Model();
var collection = new Falcon.Collection(parent_model);
var other_model = new Falcon.Model();
var adapter = new Falcon.Adapter();
var my_callback = function(){}

/*
	Returns: {
		url: "",                    //url generated by adapter.makeUrl
		data: serialized_collection //The collection.serialize() response
		success: function(){},      //Blank success callback
		complete: function(){},     //Blank complete callback
		error: function(){},        //Blank error callback
		parent: parent_model,       //The collection's parent
		attributes: null,           //Attributes to serialize
		fill_options: null,         //Options to pass to the fill method after success
	}
*/
adapter.standardizeOptions( collection, "GET", {}, null ); 

/*
	Returns: {
		url: "http://www.falconjs.com",
		data: {'hello': 'world'},
		success: my_callback,
		error: my_callback,
		complete: my_callback,
		parent: other_model,
		attributes: ["id", "name"],
		fill_options: {'method': 'merge'}
	}
*/
adapter.standardizeOptions( collection, "GET", {
	"url": "http://www.falconjs.com",
	"data": {'hello': 'world'},
	"success": my_callback,
	"error": my_callback,
	"complete": my_callback,
	"parent": other_model,
	"attributes": ["id", "name"],
	"fill_options": {'method': 'merge'}
}, null);

/*
	Returns: {
		url: "",
		data: serialized_collection,
		success: function(){},
		complete: my_callback,
		error: function(){},
		parent: parent_model,
		attributes: null,
		fill_options: null
	}
*/
adapter.standardizeOptions( collection, "GET", my_callback, null );

/*
	Returns: {
		url: "",
		data: serialized_collection,
		success: function(){},
		complete: function(){},
		error: function(){},
		parent: parent_model,
		attributes: ["id","name","foo"],
		fill_options: null
	}
*/
adapter.standardizeOptions( collection, "GET", "id,name,foo", null );

/*
	Returns: {
		url: "",
		data: serialized_collection,
		success: function(){},
		complete: function(){},
		error: function(){},
		parent: parent_model,
		attributes: ["id","name","foo"],
		fill_options: null
	}
*/
adapter.standardizeOptions( collection, "GET", ["id","name","foo"], null );
{% endhighlight %}