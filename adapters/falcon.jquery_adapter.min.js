(function(){var a,b,c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=function(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)},e=function(a){return null!=a&&"[object String]"===Object.prototype.toString.call(a)},a=function(a){return null!=a&&"[object Array]"===Object.prototype.toString.call(a)},c=function(a){return null!=a&&"[object Function]"===Object.prototype.toString.call(a)},b=function(b){var c,f;if(null==b)return!0;if(e(b)||a(b))return 0===b.length;if(d(b)){for(c in b)return f=b[c],!1;return!0}return!1},f=function(a){function f(){return g=f.__super__.constructor.apply(this,arguments)}return i(f,a),f.prototype.cache=!1,f.prototype.resolveRequestType=function(a,b,c,d){return f.__super__.resolveRequestType.call(this,a,b,c,d)},f.prototype.resolveContext=function(a,b,c,d){return f.__super__.resolveContext.call(this,a,b,c,d)},f.prototype.standardizeOptions=function(a,b,c,g){return c=f.__super__.standardizeOptions.call(this,a,b,c,g),d(c.data)||(c.data=null),e(c.dataType)||(c.dataType="json"),e(c.contentType)||(c.contentType="application/json"),d(c.params)||(c.params={}),d(c.headers)||(c.headers={}),c.cache=this.cache,c},f.prototype.makeUrl=function(a,c,d,e){var g,h,i;return h=f.__super__.makeUrl.call(this,a,c,d,e),b(d.params)||(h.indexOf("?")>-1||(h+="?"),h+=function(){var a,b;a=d.params,b=[];for(g in a)i=a[g],b.push(""+g+"="+i);return b}().join("&")),h},f.prototype.serializeData=function(a,b,c,d){var e;return e=f.__super__.serializeData.call(this,a,b,c,d),null===e?"":JSON.stringify(c.data)},f.prototype.parseRawResponseData=function(a,b,c,d,g){var h,i,j;return j=f.__super__.parseRawResponseData.call(this,a,b,c,d,g),h=j.data,i=j.xhr,e(h)&&(h=JSON.parse(h)),null==h&&e(i.responseText)&&(h=JSON.parse(i.responseText)),null==h&&(h=Falcon.isModel(a)?{}:[]),h},f.prototype.successResponseHandler=function(a,b,c,d,e){return f.__super__.successResponseHandler.call(this,a,b,c,d,e)},f.prototype.errorResponseHandler=function(a,b,c,d,e){return f.__super__.errorResponseHandler.call(this,a,b,c,d,e)},f.prototype.completeResponseHandler=function(a,b,c,d,e){return f.__super__.completeResponseHandler.call(this,a,b,c,d,e)},f.prototype.sync=function(a,b,c,d){var e,g,h=this;return f.__super__.sync.call(this,a,b,c,d),b=this.resolveRequestType(a,b,c,d),c=this.standardizeOptions(a,b,c,d),d=this.resolveContext(a,b,c,d),!Falcon.isModel(a)||"PUT"!==b&&"POST"!==b||a.validate(c)?(g=this.makeUrl(a,b,c,d),e=this.serializeData(a,b,c,d),$.ajax({type:b,url:g,data:e,dataType:c.dataType,contentType:c.contentType,cache:c.cache,headers:c.headers,success:function(e,f,g){return h.successResponseHandler(a,b,c,d,{data:e,status:f,xhr:g})},error:function(e){return h.errorResponseHandler(a,b,c,d,{xhr:e})},complete:function(e,f){return h.completeResponseHandler(a,b,c,d,{status:f,xhr:e})}})):null},f.prototype.getTemplate=function(a,b,d){return"#"===b.charAt(0)?f.__super__.getTemplate.call(this,a,b,d):($.ajax({url:b,type:"GET",cache:this.cache,error:function(){return console.log("[FALCON] Error Loading Template: '"+b+"'")},success:function(a){return Falcon.View.cacheTemplate(b,a),c(d)?d():void 0}}),this)},f}(Falcon.Adapter),Falcon.adapter=new f}).call(this);