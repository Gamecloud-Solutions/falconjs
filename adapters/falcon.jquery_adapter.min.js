(function(){var a,b,c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)},d=function(a){return null!=a&&"[object String]"===Object.prototype.toString.call(a)},a=function(a){return null!=a&&"[object Array]"===Object.prototype.toString.call(a)},b=function(b){var e,f;if(null==b)return!0;if(d(b)||a(b))return 0===b.length;if(c(b)){for(e in b)return f=b[e],!1;return!0}return!1},e=function(a){function e(){return f=e.__super__.constructor.apply(this,arguments)}return h(e,a),e.prototype.cache=!1,e.prototype.resolveRequestType=function(a,b,c,d){return e.__super__.resolveRequestType.call(this,a,b,c,d)},e.prototype.resolveContext=function(a,b,c,d){return e.__super__.resolveContext.call(this,a,b,c,d)},e.prototype.standardizeOptions=function(a,b,f,g){return f=e.__super__.standardizeOptions.call(this,a,b,f,g),c(f.data)||(f.data=null),d(f.dataType)||(f.dataType="json"),d(f.contentType)||(f.contentType="application/json"),c(f.params)||(f.params={}),c(f.headers)||(f.headers={}),f},e.prototype.makeUrl=function(a,c,d,f){var g,h,i;return h=e.__super__.makeUrl.call(this,a,c,d,f),b(d.params)||(h.indexOf("?")>-1||(h+="?"),h+=function(){var a,b;a=d.params,b=[];for(g in a)i=a[g],b.push(""+g+"="+i);return b}().join("&")),h},e.prototype.serializeData=function(a,b,c,d){var f;return f=e.__super__.serializeData.call(this,a,b,c,d),null===f?"":JSON.stringify(c.data)},e.prototype.parseRawResponseData=function(a,b,c,f,g){var h,i,j;return j=e.__super__.parseRawResponseData.call(this,a,b,c,f,g),h=j.data,i=j.xhr,d(h)&&(h=JSON.parse(h)),null==h&&d(i.responseText)&&(h=JSON.parse(i.responseText)),null==h&&(h=Falcon.isModel(a)?{}:[]),h},e.prototype.successResponseHandler=function(a,b,c,d,f){return e.__super__.successResponseHandler.call(this,a,b,c,d,f)},e.prototype.errorResponseHandler=function(a,b,c,d,f){return e.__super__.errorResponseHandler.call(this,a,b,c,d,f)},e.prototype.completeResponseHandler=function(a,b,c,d,f){return e.__super__.completeResponseHandler.call(this,a,b,c,d,f)},e.prototype.sync=function(a,b,c,d){var f,g,h=this;return e.__super__.sync.call(this,a,b,c,d),b=this.resolveRequestType(a,b,c,d),c=this.standardizeOptions(a,b,c,d),d=this.resolveContext(a,b,c,d),!Falcon.isModel(a)||"PUT"!==b&&"POST"!==b||a.validate(c)?(g=this.makeUrl(a,b,c,d),f=this.serializeData(a,b,c,d),$.ajax({type:b,url:g,data:f,dataType:c.dataType,contentType:c.contentType,cache:this.cache,headers:c.headers,success:function(e,f,g){return h.successResponseHandler(a,b,c,d,{data:e,status:f,xhr:g})},error:function(e){return h.errorResponseHandler(a,b,c,d,{xhr:e})},complete:function(e,f){return h.completeResponseHandler(a,b,c,d,{status:f,xhr:e})}})):null},e}(Falcon.Adapter),Falcon.adapter=new e}).call(this);